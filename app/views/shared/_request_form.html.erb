<h2 class=" tracking-wide text-gray-700 text-lg font-bold mb-2 text-center"><%=document%></h2>

<div>
<%= f.label :title, "タイトル", class: "inline-block tracking-wide text-gray-700 text-xs font-bold mb-2"%>
<span class=" text-white bg-red-500 font-normal text-sm ml-2 p-0.5 rounded-md">
              必須
            </span>
<%= f.text_field :title, required: true, class: "appearance-none block w-full text-gray-700 border border-gray-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"%>
</div>
<div>
<%= f.label :body,  "リクエストする内容", class: "inline-block tracking-wide text-gray-700 text-xs font-bold mb-2"%>
<span class=" text-white bg-red-500 font-normal text-sm ml-2 p-0.5 rounded-md">
              必須
            </span>
<%= f.text_area :body, required: true, class: "no-resize appearance-none block w-full text-gray-700 border border-gray-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500 h-48 resize-none"%>
</div>
<div class = "mb-4">
<%= f.label :target_amount, "予算", class: "inline-block tracking-wide text-gray-700 text-xs font-bold mb-2"%>
<span class=" text-white bg-red-500 font-normal text-sm ml-2 p-0.5 rounded-md">
              必須
            </span><br>
<%= f.number_field :target_amount, required: true, min:1, class: "w-40 h-10 border mr-2 rounded px-2 focus:outline-none"%>

</div>

<div data-controller="image-preview">
<div data-image-preview-target="preview" class="flex flex-wrap items-center gap-4 mb-4">
  <% if @request.request_images.attached? %>
    <% @request.request_images.each do |image| %>

<!--params[:remove_image_ids]で送る, チェックされたimage.idをparamsにいれる, trueでチェックボックスを最初からチェックにする-->
<!--<input type="checkbox" name="remove_image_ids[]" id="remove_image_ids_" value="62" checked="checked">-->
    <p class="-mr-3">削除</p>
    <%= check_box_tag "remove_image_ids[]",
      image.id,
      false %>
      <%= image_tag image, class: "object-cover rounded mb:w-35 w-15"%>
    <% end %>
  <% end %>
</div>

<div class="mb-4">

<%= f.label :request_images, "画像を選択", 
  class: "inline-block tracking-wide text-gray-700 text-xs font-bold cursor-pointer rounded-md bg-gray-300 px-6 py-2 hover:bg-gray-500"%>
<span class="mr-2 text-white z-10 bg-red-500 font-normal text-sm ml-2 p-0.5 rounded-md">
              必須
            </span>
<%= f.file_field :request_images, multiple: true, required: f.object.new_record?,
  data: { action: "change->image-preview#preview"},
  accept: "image/jpeg,image/gif,image/png"%>
</div>
</div>

<button type="submit" class = "inline-block tracking-wide text-gray-700 text-xs font-bold cursor-pointer rounded-md bg-gray-300 px-6 py-2 hover:bg-gray-500" >
  下書き保存
</button>
<button type="submit" name="commit" value="send" class = "inline-block tracking-wide text-gray-700 text-xs font-bold cursor-pointer rounded-md bg-blue-400 px-6 py-2 hover:bg-blue-500 mb-20">
  リクエスト送信
</button>
